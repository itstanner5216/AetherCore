{
  "name": "AetherCore.SearchEngine",
  "version": "1.0.0",
  "description": "Multi-provider search engine with automatic failover, quota management, and scraping fallback",
  "entry_point": "searchengine-entry.js",
  "callable": true,
  "execution_priority": 4,
  "scope": "Subordinate",

  "tools": ["search", "scrape", "quota_status", "reset_quotas"],

  "tool_definitions": {
    "search": {
      "description": "Execute web search with automatic provider failover",
      "parameters": {
        "query": {"type": "string", "required": true},
        "max_results": {"type": "integer", "default": 10},
        "provider": {"type": "string", "default": "auto"}
      }
    },
    "scrape": {
      "description": "Scrape URL content with fallback providers",
      "parameters": {
        "url": {"type": "string", "required": true},
        "render_js": {"type": "boolean", "default": false},
        "use_premium_proxy": {"type": "boolean", "default": false}
      }
    },
    "quota_status": {
      "description": "Get current quota status for all providers",
      "parameters": {}
    },
    "reset_quotas": {
      "description": "Force reset quota counters (admin only)",
      "parameters": {
        "provider": {"type": "string", "default": "all"}
      }
    }
  },

  "providers": {
    "search": {
      "google": {
        "name": "Google Custom Search",
        "base_url": "https://www.googleapis.com/customsearch/v1",
        "quota": {"limit": 100, "window": "day"},
        "priority": 1
      },
      "brave": {
        "name": "Brave Search",
        "base_url": "https://api.search.brave.com/res/v1/web/search",
        "quota": {"limit": 2000, "window": "month"},
        "priority": 2
      },
      "serper": {
        "name": "Serper.dev",
        "base_url": "https://google.serper.dev/search",
        "quota": {"limit": 2000, "window": "month"},
        "priority": 3
      }
    },
    "scrape": {
      "webscraping_api": {
        "name": "Webscraping API",
        "base_url": "https://api.webscraping.ai/html",
        "quota": {"limit": 5000, "window": "month"},
        "priority": 1
      },
      "scrapingant": {
        "name": "ScrapingAnt",
        "base_url": "https://api.scrapingant.com/v2/general",
        "quota": {"limit": 10000, "window": "month", "credit_based": true},
        "priority": 2,
        "credit_costs": {
          "simple_datacenter": 1,
          "headless_no_js": 2,
          "js_rendering": 10,
          "simple_premium": 25,
          "headless_premium": 50,
          "js_premium": 125,
          "google_datacenter": 10
        }
      }
    }
  },

  "failover": {
    "enabled": true,
    "max_retries": 3,
    "retry_delay_ms": 1000,
    "on_quota_exhausted": "next_provider",
    "on_error": "continue_with_warning"
  },

  "telemetry": {
    "emit_channels": ["optimization-events", "research-updates"],
    "log_events": [
      "quota_usage",
      "provider_failover",
      "provider_deactivation",
      "quota_reset",
      "error_handling"
    ]
  },

  "integrations": {
    "EventMesh": {
      "subscribe": ["research-updates"],
      "emit": ["optimization-events", "research-updates"]
    },
    "OptiGraph": {
      "hooks": ["on_skill_invoke", "on_skill_exit"]
    },
    "callers": ["AetherCore.DeepForge", "AetherCore.MarketSweep", "AetherCore.GeminiBridge"]
  },

  "dependencies": ["AetherCore.Orchestrator", "AetherCore.EventMesh", "AetherCore.OptiGraph"]
}
